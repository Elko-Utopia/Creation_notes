import { c as createComponent, m as maybeRenderHead, u as unescapeHTML, e as renderTemplate, s as spreadAttributes, r as renderComponent, f as addAttribute, b as renderHead } from '../chunks/astro/server_CN0qAJDK.mjs';
import 'kleur/colors';
import '@astrojs/internal-helpers/path';
import '@astrojs/internal-helpers/remote';
import { g as getImage, $ as $$Image } from '../chunks/_astro_assets_wf-ntoJe.mjs';
import { g as getCollection } from '../chunks/_astro_content_CQfDAPEY.mjs';
import { b as $$Footer, a as $$Header, $ as $$BaseHead } from '../chunks/Header_DMOkMrjH.mjs';
import '../chunks/blog-placeholder-1_DhpbVPFw.mjs';
import '../chunks/blog-placeholder-2_CUkiHjwt.mjs';
import 'clsx';
/* empty css                                     */
export { renderers } from '../renderers.mjs';

const __vite_glob_0_0 = "/Creation_notes/_astro/blog-placeholder-1.Bx0Zcyzv.jpg";

const __vite_glob_0_1 = "/Creation_notes/_astro/blog-placeholder-2.1WQRLJGH.jpg";

const __vite_glob_0_2 = "/Creation_notes/_astro/blog-placeholder-3.ijrf8Ohr.jpg";

const __vite_glob_0_3 = "/Creation_notes/_astro/blog-placeholder-4.gLBdjEDe.jpg";

const __vite_glob_0_4 = "/Creation_notes/_astro/blog-placeholder-5.CB3Xi-gp.jpg";

const __vite_glob_0_5 = "/Creation_notes/_astro/blog-placeholder-about.BtEdEmGp.jpg";

const __vite_glob_0_6 = "/Creation_notes/_astro/Featured1-character_design.dD-ZhxeV.png";

const __vite_glob_0_7 = "/Creation_notes/_astro/Featured2-character_design.Bj6Sh71X.png";

const __vite_glob_0_8 = "/Creation_notes/_astro/Featured3-character_design.C1c-kjDT.png";

const __vite_glob_0_9 = "/Creation_notes/_astro/Featured4-painting.DQi9XtSw.png";

const __vite_glob_0_10 = "/Creation_notes/_astro/Featured5-painting.K6rOblKr.png";

const __vite_glob_0_11 = "/Creation_notes/_astro/Featured6-sketching.CIayu93N.png";

const __vite_glob_0_12 = "/Creation_notes/_astro/Featured7-sketching.B09rVQav.png";

const __vite_glob_0_13 = "/Creation_notes/_astro/Featured8-sketching.DfX_sGhS.png";

const __vite_glob_0_14 = "/Creation_notes/_astro/mmexport1714049980460.Bo5uVF1k.jpg";

const __vite_glob_0_15 = "/Creation_notes/_astro/%E7%8B%AE%E9%B9%AB%20%E4%B9%88%E5%BE%97%E6%B0%B4%E5%8D%B0.ByLyoD7D.png";

const __vite_glob_0_16 = "/Creation_notes/_astro/%E7%8B%AE%E9%B9%AB%20%E5%9C%86%E5%BD%A2%20%E4%B9%88%E5%BE%97%E6%B0%B4%E5%8D%B0.DAL782HG.png";

const __vite_glob_0_17 = "/Creation_notes/_astro/%E8%89%BE%E5%B0%94%E7%A7%91-small.Cb2Tw4oi.png";

new Proxy({"src":"/Creation_notes/_astro/blog-placeholder-3.ijrf8Ohr.jpg","width":960,"height":480,"format":"jpg"}, {
						get(target, name, receiver) {
							if (name === 'clone') {
								return structuredClone(target);
							}
							if (name === 'fsPath') {
								return "D:/建站/personal work collection/portfolio-site/src/assets/blog-placeholder-3.jpg";
							}
							if (target[name] !== undefined && globalThis.astroAsset) globalThis.astroAsset?.referencedImages.add("D:/建站/personal work collection/portfolio-site/src/assets/blog-placeholder-3.jpg");
							return target[name];
						}
					});

new Proxy({"src":"/Creation_notes/_astro/blog-placeholder-4.gLBdjEDe.jpg","width":960,"height":480,"format":"jpg"}, {
						get(target, name, receiver) {
							if (name === 'clone') {
								return structuredClone(target);
							}
							if (name === 'fsPath') {
								return "D:/建站/personal work collection/portfolio-site/src/assets/blog-placeholder-4.jpg";
							}
							if (target[name] !== undefined && globalThis.astroAsset) globalThis.astroAsset?.referencedImages.add("D:/建站/personal work collection/portfolio-site/src/assets/blog-placeholder-4.jpg");
							return target[name];
						}
					});

new Proxy({"src":"/Creation_notes/_astro/blog-placeholder-5.CB3Xi-gp.jpg","width":960,"height":480,"format":"jpg"}, {
						get(target, name, receiver) {
							if (name === 'clone') {
								return structuredClone(target);
							}
							if (name === 'fsPath') {
								return "D:/建站/personal work collection/portfolio-site/src/assets/blog-placeholder-5.jpg";
							}
							if (target[name] !== undefined && globalThis.astroAsset) globalThis.astroAsset?.referencedImages.add("D:/建站/personal work collection/portfolio-site/src/assets/blog-placeholder-5.jpg");
							return target[name];
						}
					});

const Astro__Z2nPoHc = new Proxy({"src":"/Creation_notes/_astro/Featured1-character_design.dD-ZhxeV.png","width":3540,"height":5702,"format":"png"}, {
						get(target, name, receiver) {
							if (name === 'clone') {
								return structuredClone(target);
							}
							if (name === 'fsPath') {
								return "D:/建站/personal work collection/portfolio-site/src/assets/portfolio/Featured1-character_design.png";
							}
							if (target[name] !== undefined && globalThis.astroAsset) globalThis.astroAsset?.referencedImages.add("D:/建站/personal work collection/portfolio-site/src/assets/portfolio/Featured1-character_design.png");
							return target[name];
						}
					});

const Astro__h9KJT = new Proxy({"src":"/Creation_notes/_astro/Featured2-character_design.Bj6Sh71X.png","width":5000,"height":8000,"format":"png"}, {
						get(target, name, receiver) {
							if (name === 'clone') {
								return structuredClone(target);
							}
							if (name === 'fsPath') {
								return "D:/建站/personal work collection/portfolio-site/src/assets/portfolio/Featured2-character_design.png";
							}
							if (target[name] !== undefined && globalThis.astroAsset) globalThis.astroAsset?.referencedImages.add("D:/建站/personal work collection/portfolio-site/src/assets/portfolio/Featured2-character_design.png");
							return target[name];
						}
					});

const Astro__Z282cAV = new Proxy({"src":"/Creation_notes/_astro/Featured3-character_design.C1c-kjDT.png","width":5000,"height":8000,"format":"png"}, {
						get(target, name, receiver) {
							if (name === 'clone') {
								return structuredClone(target);
							}
							if (name === 'fsPath') {
								return "D:/建站/personal work collection/portfolio-site/src/assets/portfolio/Featured3-character_design.png";
							}
							if (target[name] !== undefined && globalThis.astroAsset) globalThis.astroAsset?.referencedImages.add("D:/建站/personal work collection/portfolio-site/src/assets/portfolio/Featured3-character_design.png");
							return target[name];
						}
					});

const Astro__1mLp0X = new Proxy({"src":"/Creation_notes/_astro/Featured4-painting.DQi9XtSw.png","width":2852,"height":3928,"format":"png"}, {
						get(target, name, receiver) {
							if (name === 'clone') {
								return structuredClone(target);
							}
							if (name === 'fsPath') {
								return "D:/建站/personal work collection/portfolio-site/src/assets/portfolio/Featured4-painting.png";
							}
							if (target[name] !== undefined && globalThis.astroAsset) globalThis.astroAsset?.referencedImages.add("D:/建站/personal work collection/portfolio-site/src/assets/portfolio/Featured4-painting.png");
							return target[name];
						}
					});

const Astro__Lg5FE = new Proxy({"src":"/Creation_notes/_astro/Featured5-painting.K6rOblKr.png","width":3052,"height":4222,"format":"png"}, {
						get(target, name, receiver) {
							if (name === 'clone') {
								return structuredClone(target);
							}
							if (name === 'fsPath') {
								return "D:/建站/personal work collection/portfolio-site/src/assets/portfolio/Featured5-painting.png";
							}
							if (target[name] !== undefined && globalThis.astroAsset) globalThis.astroAsset?.referencedImages.add("D:/建站/personal work collection/portfolio-site/src/assets/portfolio/Featured5-painting.png");
							return target[name];
						}
					});

const Astro__1JgruR = new Proxy({"src":"/Creation_notes/_astro/Featured6-sketching.CIayu93N.png","width":2816,"height":4072,"format":"png"}, {
						get(target, name, receiver) {
							if (name === 'clone') {
								return structuredClone(target);
							}
							if (name === 'fsPath') {
								return "D:/建站/personal work collection/portfolio-site/src/assets/portfolio/Featured6-sketching.png";
							}
							if (target[name] !== undefined && globalThis.astroAsset) globalThis.astroAsset?.referencedImages.add("D:/建站/personal work collection/portfolio-site/src/assets/portfolio/Featured6-sketching.png");
							return target[name];
						}
					});

const Astro__Z1y2VlY = new Proxy({"src":"/Creation_notes/_astro/Featured7-sketching.B09rVQav.png","width":2881,"height":4098,"format":"png"}, {
						get(target, name, receiver) {
							if (name === 'clone') {
								return structuredClone(target);
							}
							if (name === 'fsPath') {
								return "D:/建站/personal work collection/portfolio-site/src/assets/portfolio/Featured7-sketching.png";
							}
							if (target[name] !== undefined && globalThis.astroAsset) globalThis.astroAsset?.referencedImages.add("D:/建站/personal work collection/portfolio-site/src/assets/portfolio/Featured7-sketching.png");
							return target[name];
						}
					});

const Astro__dONA6 = new Proxy({"src":"/Creation_notes/_astro/Featured8-sketching.DfX_sGhS.png","width":11551,"height":1207,"format":"png"}, {
						get(target, name, receiver) {
							if (name === 'clone') {
								return structuredClone(target);
							}
							if (name === 'fsPath') {
								return "D:/建站/personal work collection/portfolio-site/src/assets/portfolio/Featured8-sketching.png";
							}
							if (target[name] !== undefined && globalThis.astroAsset) globalThis.astroAsset?.referencedImages.add("D:/建站/personal work collection/portfolio-site/src/assets/portfolio/Featured8-sketching.png");
							return target[name];
						}
					});

const images = async function(html) {
					const imageSources = {};
					{
											const regex = new RegExp('__ASTRO_IMAGE_="([^"]*' + "\\.\\./assets/portfolio/Featured1-character_design\\.png" + '[^"]*)"', 'g');
											let match;
											let occurrenceCounter = 0;
											while ((match = regex.exec(html)) !== null) {
													const matchKey = "../assets/portfolio/Featured1-character_design.png" + '_' + occurrenceCounter;
													const imageProps = JSON.parse(match[1].replace(/&#x22;/g, '"').replace(/&#x27;/g, "'"));
													const { src, ...props } = imageProps;
													imageSources[matchKey] = await getImage({src: Astro__Z2nPoHc, ...props});
													occurrenceCounter++;
											}
									}
{
											const regex = new RegExp('__ASTRO_IMAGE_="([^"]*' + "\\.\\./assets/portfolio/Featured2-character_design\\.png" + '[^"]*)"', 'g');
											let match;
											let occurrenceCounter = 0;
											while ((match = regex.exec(html)) !== null) {
													const matchKey = "../assets/portfolio/Featured2-character_design.png" + '_' + occurrenceCounter;
													const imageProps = JSON.parse(match[1].replace(/&#x22;/g, '"').replace(/&#x27;/g, "'"));
													const { src, ...props } = imageProps;
													imageSources[matchKey] = await getImage({src: Astro__h9KJT, ...props});
													occurrenceCounter++;
											}
									}
{
											const regex = new RegExp('__ASTRO_IMAGE_="([^"]*' + "\\.\\./assets/portfolio/Featured3-character_design\\.png" + '[^"]*)"', 'g');
											let match;
											let occurrenceCounter = 0;
											while ((match = regex.exec(html)) !== null) {
													const matchKey = "../assets/portfolio/Featured3-character_design.png" + '_' + occurrenceCounter;
													const imageProps = JSON.parse(match[1].replace(/&#x22;/g, '"').replace(/&#x27;/g, "'"));
													const { src, ...props } = imageProps;
													imageSources[matchKey] = await getImage({src: Astro__Z282cAV, ...props});
													occurrenceCounter++;
											}
									}
{
											const regex = new RegExp('__ASTRO_IMAGE_="([^"]*' + "\\.\\./assets/portfolio/Featured4-painting\\.png" + '[^"]*)"', 'g');
											let match;
											let occurrenceCounter = 0;
											while ((match = regex.exec(html)) !== null) {
													const matchKey = "../assets/portfolio/Featured4-painting.png" + '_' + occurrenceCounter;
													const imageProps = JSON.parse(match[1].replace(/&#x22;/g, '"').replace(/&#x27;/g, "'"));
													const { src, ...props } = imageProps;
													imageSources[matchKey] = await getImage({src: Astro__1mLp0X, ...props});
													occurrenceCounter++;
											}
									}
{
											const regex = new RegExp('__ASTRO_IMAGE_="([^"]*' + "\\.\\./assets/portfolio/Featured5-painting\\.png" + '[^"]*)"', 'g');
											let match;
											let occurrenceCounter = 0;
											while ((match = regex.exec(html)) !== null) {
													const matchKey = "../assets/portfolio/Featured5-painting.png" + '_' + occurrenceCounter;
													const imageProps = JSON.parse(match[1].replace(/&#x22;/g, '"').replace(/&#x27;/g, "'"));
													const { src, ...props } = imageProps;
													imageSources[matchKey] = await getImage({src: Astro__Lg5FE, ...props});
													occurrenceCounter++;
											}
									}
{
											const regex = new RegExp('__ASTRO_IMAGE_="([^"]*' + "\\.\\./assets/portfolio/Featured6-sketching\\.png" + '[^"]*)"', 'g');
											let match;
											let occurrenceCounter = 0;
											while ((match = regex.exec(html)) !== null) {
													const matchKey = "../assets/portfolio/Featured6-sketching.png" + '_' + occurrenceCounter;
													const imageProps = JSON.parse(match[1].replace(/&#x22;/g, '"').replace(/&#x27;/g, "'"));
													const { src, ...props } = imageProps;
													imageSources[matchKey] = await getImage({src: Astro__1JgruR, ...props});
													occurrenceCounter++;
											}
									}
{
											const regex = new RegExp('__ASTRO_IMAGE_="([^"]*' + "\\.\\./assets/portfolio/Featured7-sketching\\.png" + '[^"]*)"', 'g');
											let match;
											let occurrenceCounter = 0;
											while ((match = regex.exec(html)) !== null) {
													const matchKey = "../assets/portfolio/Featured7-sketching.png" + '_' + occurrenceCounter;
													const imageProps = JSON.parse(match[1].replace(/&#x22;/g, '"').replace(/&#x27;/g, "'"));
													const { src, ...props } = imageProps;
													imageSources[matchKey] = await getImage({src: Astro__Z1y2VlY, ...props});
													occurrenceCounter++;
											}
									}
{
											const regex = new RegExp('__ASTRO_IMAGE_="([^"]*' + "\\.\\./assets/portfolio/Featured8-sketching\\.png" + '[^"]*)"', 'g');
											let match;
											let occurrenceCounter = 0;
											while ((match = regex.exec(html)) !== null) {
													const matchKey = "../assets/portfolio/Featured8-sketching.png" + '_' + occurrenceCounter;
													const imageProps = JSON.parse(match[1].replace(/&#x22;/g, '"').replace(/&#x27;/g, "'"));
													const { src, ...props } = imageProps;
													imageSources[matchKey] = await getImage({src: Astro__dONA6, ...props});
													occurrenceCounter++;
											}
									}
					
					return imageSources;
			};

		async function updateImageReferences(html) {
			const imageSources = await images(html);

			return html.replaceAll(/__ASTRO_IMAGE_="([^"]+)"/gm, (full, imagePath) => {
				const decodedImagePath = JSON.parse(imagePath.replace(/&#x22;/g, '"'));

				// Use the 'index' property for each image occurrence
				const srcKey = decodedImagePath.src + '_' + decodedImagePath.index;

				if (imageSources[srcKey].srcSet && imageSources[srcKey].srcSet.values.length > 0) {
					imageSources[srcKey].attributes.srcset = imageSources[srcKey].srcSet.attribute;
				}

				const { index, ...attributesWithoutIndex } = imageSources[srcKey].attributes;

				return spreadAttributes({
					src: imageSources[srcKey].src,
					...attributesWithoutIndex,
				});
			});
		}

		const html = async () => await updateImageReferences("<h1 id=\"portfolio\">Portfolio</h1>\n<p>A selection of works and ongoing projects. Built to match the site's overall typography, spacing, and rhythm.</p>\n<h2 id=\"featured\">Featured</h2>\n<p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/portfolio/Featured1-character_design.png&#x22;,&#x22;alt&#x22;:&#x22;Personal Portfolio Website&#x22;,&#x22;index&#x22;:0}\"></p>\n<p>Example 1\n2024<br>\n1263129812612618299128912379812</p>\n<p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/portfolio/Featured2-character_design.png&#x22;,&#x22;alt&#x22;:&#x22;E-commerce Platform&#x22;,&#x22;index&#x22;:0}\"></p>\n<p>Example 3\n2024<br>\n1263129812612618299128912379812</p>\n<p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/portfolio/Featured3-character_design.png&#x22;,&#x22;alt&#x22;:&#x22;Mobile App UI Design&#x22;,&#x22;index&#x22;:0}\"></p>\n<p>Example 4\n2023<br>\n1263129812612618299128912379812</p>\n<p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/portfolio/Featured4-painting.png&#x22;,&#x22;alt&#x22;:&#x22;Data Visualization&#x22;,&#x22;index&#x22;:0}\"></p>\n<p>Example 5\n2023<br>\n1263129812612618299128912379812</p>\n<p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/portfolio/Featured5-painting.png&#x22;,&#x22;alt&#x22;:&#x22;Data Visualization&#x22;,&#x22;index&#x22;:0}\"></p>\n<p>Example 5\n2023<br>\n1263129812612618299128912379812</p>\n<p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/portfolio/Featured6-sketching.png&#x22;,&#x22;alt&#x22;:&#x22;Data Visualization&#x22;,&#x22;index&#x22;:0}\"></p>\n<p>Example 5\n2023<br>\n1263129812612618299128912379812</p>\n<p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/portfolio/Featured7-sketching.png&#x22;,&#x22;alt&#x22;:&#x22;Data Visualization&#x22;,&#x22;index&#x22;:0}\"></p>\n<p>Example 5\n2023<br>\n1263129812612618299128912379812</p>\n<p><img __ASTRO_IMAGE_=\"{&#x22;src&#x22;:&#x22;../assets/portfolio/Featured8-sketching.png&#x22;,&#x22;alt&#x22;:&#x22;Data Visualization&#x22;,&#x22;index&#x22;:0}\"></p>\n<p>Example 5\n2023<br>\n1263129812612618299128912379812</p>");
	

				const frontmatter = {"title":"Portfolio","description":"Selected works and projects"};
				const file = "D:/建站/personal work collection/portfolio-site/src/content/portfolio.md";
				const url = undefined;

				const Content = createComponent((result, _props, slots) => {
					const { layout, ...content } = frontmatter;
					content.file = file;
					content.url = url;

					return renderTemplate`${maybeRenderHead()}${unescapeHTML(html())}`;
				});

var __freeze = Object.freeze;
var __defProp = Object.defineProperty;
var __template = (cooked, raw) => __freeze(__defProp(cooked, "raw", { value: __freeze(raw || cooked.slice()) }));
var _a;
const $$Portfolio = createComponent(async ($$result, $$props, $$slots) => {
  const assetMap = /* #__PURE__ */ Object.assign({"../assets/blog-placeholder-1.jpg": __vite_glob_0_0,"../assets/blog-placeholder-2.jpg": __vite_glob_0_1,"../assets/blog-placeholder-3.jpg": __vite_glob_0_2,"../assets/blog-placeholder-4.jpg": __vite_glob_0_3,"../assets/blog-placeholder-5.jpg": __vite_glob_0_4,"../assets/blog-placeholder-about.jpg": __vite_glob_0_5,"../assets/portfolio/Featured1-character_design.png": __vite_glob_0_6,"../assets/portfolio/Featured2-character_design.png": __vite_glob_0_7,"../assets/portfolio/Featured3-character_design.png": __vite_glob_0_8,"../assets/portfolio/Featured4-painting.png": __vite_glob_0_9,"../assets/portfolio/Featured5-painting.png": __vite_glob_0_10,"../assets/portfolio/Featured6-sketching.png": __vite_glob_0_11,"../assets/portfolio/Featured7-sketching.png": __vite_glob_0_12,"../assets/portfolio/Featured8-sketching.png": __vite_glob_0_13,"../assets/portfolio/wait for use/mmexport1714049980460.jpg": __vite_glob_0_14,"../assets/portfolio/wait for use/狮鹫 么得水印.png": __vite_glob_0_15,"../assets/portfolio/wait for use/狮鹫 圆形 么得水印.png": __vite_glob_0_16,"../assets/portfolio/wait for use/艾尔科-small.png": __vite_glob_0_17



});
  function withBaseUrl(url) {
    if (!url || typeof url !== "string") return url;
    const base = "/Creation_notes/".replace(/\/$/, "");
    if (url.startsWith(base + "/")) return url;
    if (url.startsWith("/")) return base + url;
    return base + "/" + url;
  }
  function resolveAssetUrl(input) {
    if (typeof input !== "string") return null;
    const norm = input.replace(/\\/g, "/");
    const idx = norm.lastIndexOf("/assets/");
    if (idx >= 0) {
      const rel = norm.substring(idx + 1);
      const keyCandidate = "../" + rel;
      if (assetMap[keyCandidate]) return assetMap[keyCandidate];
    }
    const tail = norm.split("/assets/").pop();
    if (tail) {
      const key2 = Object.keys(assetMap).find((k) => k.endsWith("/assets/" + tail));
      if (key2) return assetMap[key2];
    }
    const name = norm.split("/").pop();
    if (name) {
      const key3 = Object.keys(assetMap).find((k) => k.endsWith("/" + name));
      if (key3) return assetMap[key3];
    }
    return null;
  }
  const realProjects = (await getCollection("projects")).sort(
    (a, b) => (b.data.pubDate?.valueOf?.() ?? 0) - (a.data.pubDate?.valueOf?.() ?? 0)
  );
  const placeholderCount = 5;
  const projectPlaceholders = Array.from({ length: placeholderCount }, (_, i) => ({
    id: "#",
    placeholder: true,
    data: {
      title: i === 0 ? "Coming soon" : "Coming soon",
      pubDate: null,
      heroImage: null
    }
  }));
  const minGrid = 5;
  const takeReal = realProjects.slice(0, minGrid);
  const fillNeeded = Math.max(0, minGrid - takeReal.length);
  const pad = projectPlaceholders.slice(0, fillNeeded);
  const projects = [...takeReal, ...pad];
  const projectsView = projects.map((p) => {
    const isStr = typeof p.data.heroImage === "string";
    const resolved = isStr ? resolveAssetUrl(p.data.heroImage) : null;
    return {
      ...p,
      _imgUrl: resolved,
      _isImageObj: !isStr && !!p.data.heroImage
    };
  });
  return renderTemplate(_a || (_a = __template(['<html lang="en" data-astro-cid-hcjuqwdu> <head>', "", "</head> <body data-astro-cid-hcjuqwdu> ", ' <main class="pswp-gallery" data-astro-cid-hcjuqwdu> <article class="md-content pswp-featured" data-astro-cid-hcjuqwdu> ', ' </article> <section id="all-projects" class="all-projects" data-astro-cid-hcjuqwdu> <h2 data-astro-cid-hcjuqwdu>All Projects</h2> <ul class="proj-list" data-astro-cid-hcjuqwdu> ', " </ul> </section> </main> ", ` <div class="lightbox" data-astro-cid-hcjuqwdu> <div class="lightbox-close" data-astro-cid-hcjuqwdu>&times;</div> <img src="" alt="" data-astro-cid-hcjuqwdu> </div> <script type="module">
      import { initImageLightbox } from '/src/scripts/image-lightbox.js';

      const scopeSelector = '.md-content';
      initImageLightbox({ scope: scopeSelector, exclude: '.all-projects' });

      const processed = new Set();
      const mdRoot = document.querySelector(scopeSelector);

      const computeLimits = () => {
        const gapPx = mdRoot ? parseFloat(getComputedStyle(mdRoot).getPropertyValue('--md-img-gap')) || 0 : 0;
        const viewportWidthLimit = Math.max(0, window.innerWidth - gapPx * 2);
        const maxWidth = Math.max(0, Math.min(1200, viewportWidthLimit));
        const maxHeight = Math.max(0, window.innerHeight * 0.85);
        return { maxWidth, maxHeight };
      };

      const sizeImage = (img, orientation) => {
        const { naturalWidth: w, naturalHeight: h } = img;
        if (!w || !h) return;
        const { maxWidth, maxHeight } = computeLimits();
        const ratio = w / h;

        let widthLimit = maxWidth;
        let heightLimit = maxHeight;

        if (orientation === 'is-portrait') {
          heightLimit = maxHeight;
          widthLimit = Math.min(maxWidth, maxHeight * ratio);
        } else if (orientation === 'is-landscape') {
          widthLimit = maxWidth;
          heightLimit = Math.min(maxHeight, maxWidth / ratio);
        } else {
          widthLimit = Math.min(maxWidth, maxHeight * ratio);
          heightLimit = Math.min(maxHeight, widthLimit / ratio);
        }

        img.style.width = 'auto';
        img.style.height = 'auto';
        img.style.maxWidth = \`\${widthLimit}px\`;
        img.style.maxHeight = \`\${heightLimit}px\`;
      };

      const applyOrientation = (img) => {
        if (!(img instanceof HTMLImageElement)) return;
        const figure = img.closest('figure');
        const tokens = ['is-portrait', 'is-landscape', 'is-square'];
        img.classList.remove(...tokens);
        figure?.classList.remove(...tokens);
        const { naturalWidth: w, naturalHeight: h } = img;
        if (!w || !h) return;
        let orientation = 'is-square';
        if (h > w) orientation = 'is-portrait';
        else if (w > h) orientation = 'is-landscape';
        img.classList.add(orientation);
        figure?.classList.add(orientation);
        sizeImage(img, orientation);
      };

      const observeImage = (img) => {
        if (!(img instanceof HTMLImageElement)) return;
        if (!processed.has(img)) {
          processed.add(img);
          const update = () => applyOrientation(img);
          if (img.complete && img.naturalWidth) update();
          else img.addEventListener('load', update, { once: true });
          if (typeof ResizeObserver === 'function') {
            new ResizeObserver(update).observe(img);
          }
        } else {
          applyOrientation(img);
        }
      };

      if (mdRoot) {
        mdRoot.querySelectorAll('img').forEach(observeImage);

        const mutationObs = new MutationObserver((mutations) => {
          mutations.forEach((mutation) => {
            mutation.addedNodes.forEach((node) => {
              if (node.nodeType !== Node.ELEMENT_NODE) return;
              if (node.matches?.('img')) observeImage(node);
              node.querySelectorAll?.('img').forEach(observeImage);
            });
          });
        });

        mutationObs.observe(mdRoot, { childList: true, subtree: true });
        window.addEventListener('resize', () => {
          processed.forEach((img) => applyOrientation(img));
        });
      }
    </script> </body> </html>   `], ['<html lang="en" data-astro-cid-hcjuqwdu> <head>', "", "</head> <body data-astro-cid-hcjuqwdu> ", ' <main class="pswp-gallery" data-astro-cid-hcjuqwdu> <article class="md-content pswp-featured" data-astro-cid-hcjuqwdu> ', ' </article> <section id="all-projects" class="all-projects" data-astro-cid-hcjuqwdu> <h2 data-astro-cid-hcjuqwdu>All Projects</h2> <ul class="proj-list" data-astro-cid-hcjuqwdu> ', " </ul> </section> </main> ", ` <div class="lightbox" data-astro-cid-hcjuqwdu> <div class="lightbox-close" data-astro-cid-hcjuqwdu>&times;</div> <img src="" alt="" data-astro-cid-hcjuqwdu> </div> <script type="module">
      import { initImageLightbox } from '/src/scripts/image-lightbox.js';

      const scopeSelector = '.md-content';
      initImageLightbox({ scope: scopeSelector, exclude: '.all-projects' });

      const processed = new Set();
      const mdRoot = document.querySelector(scopeSelector);

      const computeLimits = () => {
        const gapPx = mdRoot ? parseFloat(getComputedStyle(mdRoot).getPropertyValue('--md-img-gap')) || 0 : 0;
        const viewportWidthLimit = Math.max(0, window.innerWidth - gapPx * 2);
        const maxWidth = Math.max(0, Math.min(1200, viewportWidthLimit));
        const maxHeight = Math.max(0, window.innerHeight * 0.85);
        return { maxWidth, maxHeight };
      };

      const sizeImage = (img, orientation) => {
        const { naturalWidth: w, naturalHeight: h } = img;
        if (!w || !h) return;
        const { maxWidth, maxHeight } = computeLimits();
        const ratio = w / h;

        let widthLimit = maxWidth;
        let heightLimit = maxHeight;

        if (orientation === 'is-portrait') {
          heightLimit = maxHeight;
          widthLimit = Math.min(maxWidth, maxHeight * ratio);
        } else if (orientation === 'is-landscape') {
          widthLimit = maxWidth;
          heightLimit = Math.min(maxHeight, maxWidth / ratio);
        } else {
          widthLimit = Math.min(maxWidth, maxHeight * ratio);
          heightLimit = Math.min(maxHeight, widthLimit / ratio);
        }

        img.style.width = 'auto';
        img.style.height = 'auto';
        img.style.maxWidth = \\\`\\\${widthLimit}px\\\`;
        img.style.maxHeight = \\\`\\\${heightLimit}px\\\`;
      };

      const applyOrientation = (img) => {
        if (!(img instanceof HTMLImageElement)) return;
        const figure = img.closest('figure');
        const tokens = ['is-portrait', 'is-landscape', 'is-square'];
        img.classList.remove(...tokens);
        figure?.classList.remove(...tokens);
        const { naturalWidth: w, naturalHeight: h } = img;
        if (!w || !h) return;
        let orientation = 'is-square';
        if (h > w) orientation = 'is-portrait';
        else if (w > h) orientation = 'is-landscape';
        img.classList.add(orientation);
        figure?.classList.add(orientation);
        sizeImage(img, orientation);
      };

      const observeImage = (img) => {
        if (!(img instanceof HTMLImageElement)) return;
        if (!processed.has(img)) {
          processed.add(img);
          const update = () => applyOrientation(img);
          if (img.complete && img.naturalWidth) update();
          else img.addEventListener('load', update, { once: true });
          if (typeof ResizeObserver === 'function') {
            new ResizeObserver(update).observe(img);
          }
        } else {
          applyOrientation(img);
        }
      };

      if (mdRoot) {
        mdRoot.querySelectorAll('img').forEach(observeImage);

        const mutationObs = new MutationObserver((mutations) => {
          mutations.forEach((mutation) => {
            mutation.addedNodes.forEach((node) => {
              if (node.nodeType !== Node.ELEMENT_NODE) return;
              if (node.matches?.('img')) observeImage(node);
              node.querySelectorAll?.('img').forEach(observeImage);
            });
          });
        });

        mutationObs.observe(mdRoot, { childList: true, subtree: true });
        window.addEventListener('resize', () => {
          processed.forEach((img) => applyOrientation(img));
        });
      }
    </script> </body> </html>   `])), renderComponent($$result, "BaseHead", $$BaseHead, { "title": "Portfolio", "description": "Selected works and projects", "data-astro-cid-hcjuqwdu": true }), renderHead(), renderComponent($$result, "Header", $$Header, { "data-astro-cid-hcjuqwdu": true }), renderComponent($$result, "PortfolioMD", Content, { "data-astro-cid-hcjuqwdu": true }), projectsView.slice(0, 5).map((item) => renderTemplate`<li data-astro-cid-hcjuqwdu> <a${addAttribute(item.placeholder ? void 0 : item.data.link ?? "#", "href")}${addAttribute(item.placeholder, "aria-disabled")} data-astro-cid-hcjuqwdu> ${item.data.heroImage ? item._isImageObj ? renderTemplate`${renderComponent($$result, "Image", $$Image, { "width": 720, "height": 360, "src": item.data.heroImage, "alt": "", "data-astro-cid-hcjuqwdu": true })}` : item._imgUrl ? renderTemplate`<img width="720" height="360"${addAttribute(withBaseUrl(item._imgUrl), "src")} alt="" data-astro-cid-hcjuqwdu>` : renderTemplate`<img width="720" height="360" src="" alt="" style="display:none;" data-astro-cid-hcjuqwdu>` : renderTemplate`<span class="ph-img" role="img" aria-label="placeholder image" data-astro-cid-hcjuqwdu> <span class="ph-shimmer" data-astro-cid-hcjuqwdu></span> </span>`} <h4 class="title" data-astro-cid-hcjuqwdu>${item.placeholder ? "Coming soon" : item.data.title}</h4> </a> </li>`), renderComponent($$result, "Footer", $$Footer, { "data-astro-cid-hcjuqwdu": true }));
}, "D:/建站/personal work collection/portfolio-site/src/pages/portfolio.astro", void 0);
const $$file = "D:/建站/personal work collection/portfolio-site/src/pages/portfolio.astro";
const $$url = "/Creation_notes/portfolio";

const _page = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	default: $$Portfolio,
	file: $$file,
	url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

const page = () => _page;

export { page };
